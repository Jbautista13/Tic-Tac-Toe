html,
body {
    height: 100%;
    width: 100%;
}

body {
    margin: 0;
    padding: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    background: var(--bgColor);
    transition: background 750ms ease-in-out;
}

h1 {
    font-size: var(--fontsize);
    font-family: 'Open Sans', sans-serif;
    color: #ebebeb;
    height: 100%;
    display: flex;
    align-items: center;
    text-shadow: 0px 0px var(--dropshadowradius) var(--dropShadowMark);
}

h1.red {
    color: var(--red_color);
}

h1.green {
    color: var(--green_color);
}

h1.red.noJS {
    text-align: center;
    font-size: 20px;
}

.header {
    position: absolute;
    top: 0;
}

h1.title {
    font-size: calc(var(--fontsize) * 1.5);
    display: inline-block;
    line-height: .75em;
    text-align: center;
}

span {
    display: inline-block;
}

span.green {
    text-shadow: 0.25px 0.25px hsl(142deg 78% 72%), 0.5px 0.5px hsl(142deg 78% 72%), 0.75px 0.75px hsl(142deg 78% 72%), 1px 1px hsl(142deg 78% 72%), 1.25px 1.25px hsl(142deg 78% 72%), 1.5px 1.5px hsl(142deg 78% 72%), 1.75px 1.75px hsl(142deg 78% 72%), 2px 2px hsl(142deg 78% 72%), 2.25px 2.25px hsl(142deg 78% 72%), 2.5px 2.5px hsl(142deg 78% 72%), 2.75px 2.75px hsl(142deg 78% 72%), 3px 3px hsl(142deg 78% 72%), 10px 10px 30px rgba(0,0,0,.7);
}

span.firstword {
    transform: rotate(-2deg);
}

span.secondword {
    transform: rotate(1deg);
    text-shadow: 0.25px 0.25px hsl(359deg 78% 72%), 0.5px 0.5px hsl(359deg 78% 72%), 0.75px 0.75px hsl(359deg 78% 72%), 1px 1px hsl(359deg 78% 72%), 1.25px 1.25px hsl(359deg 78% 72%), 1.5px 1.5px hsl(359 78% 72% / 1), 1.75px 1.75px hsl(359deg 78% 72%), 2px 2px hsl(359 78% 72% / 1), 2.25px 2.25px hsl(359deg 78% 72%), 2.5px 2.5px hsl(359deg 78% 72%), 2.75px 2.75px hsl(359deg 78% 72%), 3px 3px hsl(359deg 78% 72%), 10px 10px 30px rgba(0,0,0,.7);
    margin-right: .5em;
}

span.thirdword {
    margin-left: 1em;
    transform: rotate(-1deg);
}

.game {
    display: flex;
    justify-content: center;
    align-items: center;
}

.board {
    margin: calc(var(--gridwidth) * 0.035);
    display: flex;
    justify-content: center;
    align-items: center;
    width: var(--gridwidth);
}

.grid {
    width: var(--gridwidth);
    height: var(--gridwidth);
    margin-bottom: var(--marginbottom);
    position: relative;
    opacity: 0;
    transition: opacity .5s ease-in;
}

.grid:before {
    content: '';
    width: 0;
    height: 0;
    position: absolute;
    z-index: 3;
    border-radius: 20px;
    filter: drop-shadow(-2px 4px 5px var(--dropShadowMark));
}

.grid.red:before {
    background-color: var(--bgColor);
}

.grid.green:before {
    background-color: var(--bgColor);
}

.grid.vertical:before {
    width: calc(var(--gridwidth) * 0.04386);
    top: 50%;
    margin-left: calc(-1 * ((var(--gridwidth) * 0.04386) /2));
    margin-top: calc(-1 * ((var(--gridwidth) * .95614) / 2));
    transition: height .2s ease-out, background 750ms ease-in-out;
}

.grid.horizontal:before {
    height: calc(var(--gridwidth) * 0.04386);
    left: 50%;
    margin-top: calc(-1 * ((var(--gridwidth) * 0.04386) /2));
    margin-left: calc(-1 * ((var(--gridwidth) * .95614) / 2));
    transition: width .2s ease-out, transform .4s ease-in, background 750ms ease-in-out;
}

.grid.extendv:before {
    height: calc(var(--gridwidth) * 0.95614);
}

.grid.extendh:before {
    width: calc(var(--gridwidth) * 0.95614);
}

.grid.middle:before {
    left: 50%;
}

.grid.left:before {
    left: calc(100% * (1 / 6));
}

.grid.right:before {
    left: calc(100% * (5 / 6));
}

.grid.center:before {
    top: 50%;
}

.grid.top:before {
    top: calc(100% * (1 / 6));
}

.grid.bottom:before {
    top: calc(100% * (5 / 6));
}

.grid.tl:before {
    transform: rotate(45deg);
}

.grid.bl:before {
    transform: rotate(-45deg);
}

.square {
    width: var(--squarewidth);
    height: var(--squarewidth);
    background-color: var(--rectColor);
    border-radius: calc(var(--squarewidth) / 10);
    display: flex;
    position: relative;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    float: left;
    margin: var(--square_margin);
}

.i {
    animation-name: blip;
    animation-duration: 1250ms;
}

.i:before {
    transition: transform .5s ease-in;
    content: ' ';
    width: var(--squarewidth);
    height: var(--squarewidth);
    background-color: black;
    border-radius: 50%;
    opacity: .07;
    transform: scale(0);
    animation-name: grow-shrink;
    animation-duration: 1250ms;
    position: absolute;
    z-index: 2;
}

.mark {
    height: 100%;
    opacity: .75;
    z-index: 1;
    filter: drop-shadow(calc(var(--dropshadowscale) / -5) calc(var(--dropshadowscale) / 2.5) calc(var(--dropshadowscale) / 2) var(--dropShadowMark));
}

.mark.touched {
    animation-name: shrink-grow;
    animation-duration: 1000ms;
}

.shapeShadow {
    fill: var(--accent);
    transition: fill 750ms ease-in-out;
}

.xTop {
    fill: #fb6666;
}

.oTop {
    fill: #66fb9a;
}

.gameinfo {
    width: var(--gridwidth);
    height: calc(var(--squarewidth) / 2);
    display: flex;
    align-items: center;
    vertical-align: middle;
    justify-content: center;
    background-color: var(--rectColor);
    border-radius: calc(var(--squarewidth) / 10);
}

.gameinfo.movedown {
    transform: translateY(var(--gameinfoY));
    transition: transform .5s ease-out;
}

.gameinfo.moveup {
    transform: translateY(calc( -1 * var(--gameinfoY) ));
    transition: transform .5s ease-out;
}

.selections {
    margin-right: calc(var(--gridwidth) * 0.035);
}

.wins {
    width: var(--winsheight);
    height: var(--winsheight);
    display: flex;
    align-items: center;
    justify-content: space-between;
    transition: width .5s ease-in;
}

.count {
    width: var(--winswidth);
}

.addButton {
    width: 35px;
    height: 35px;
    background: var(--rectColor);
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
}

.addButton:before {
    content: ' ';
    width: 15px;
    height: 5px;
    background: var(--accent);
    display: inline-block;
    border-radius: 2px;
    position: absolute;
}

.addButton:after {
    position: absolute;
    content: ' ';
    width: 15px;
    height: 5px;
    background: var(--accent);
    display: inline-block;
    border-radius: 2px;
    transform: rotate(90deg);
}

.darken {
    transition: all .25s ease-in;
    filter: brightness(.25);
}

.rainbow {
    animation: rainbow 1s forwards infinite;
}

input[type="checkbox"] {
    -webkit-appearance: none;
    background: var(--rectColor);
    width: var(--lightwidth);
    height: var(--lightheight);
    border-radius: calc(var(--lightheight) / 1.5);
    margin: 0;
    margin-top: 8px;
    margin-left: 1px;
    outline: none;
}

input:focus {
    outline: none;
}

input:checked[type="checkbox"] {
    background: rgba(0, 0, 0, 0.15);
}

input[type="checkbox"]:before {
    float: left;
    width: var(--lightheight);
    height: var(--lightheight);
    border-radius: 50%;
    background: var(--accent);
    display: block;
    content: ' ';
    transform: scale(.75);
}

input:checked[type="checkbox"]:before {
    float: right;
    width: var(--lightheight);
    height: var(--lightheight);
    border-radius: 50%;
    background: var(--accent);
    display: block;
    content: ' ';
    transform: scale(.75);
}

.fadein {
    opacity: 1;
    transition: opacity .5s ease-in-out;
}

.fadeout {
    opacity: 0;
    transition: opacity .5s ease-in-out;
}

.hidden {
    display: none;
}

.visible {
    opacity: 1;
}

@keyframes grow-shrink {
    0%      { transform: scale(0); }
    50%     { transform: scale(1.42); opacity: .07; }
    100%    { transform: scale(0); opacity: 0; }
}

@keyframes blip {
    0%      { transform: scale(1); }
    50%     { transform: scale(.975); }
    100%    { transform: scale(1); }
}

@keyframes shrink-grow {
    0%      { transform: scale(1); }
    50%     { transform: scale(.75); }
    100%    { transform: scale(1); }
}

@keyframes shrink-grow-o {
    0%      { transform: scale(1); }
    50%     { transform: scale(.75); }
    100%    { transform: scale(1); }
}

@keyframes rainbow {
    0% { filter: hue-rotate(0deg); }
    50% { filter: hue-rotate(360deg); }
    100% { filter: hue-rotate(0deg); }
}

@media screen and (max-width: 349px) {
    :root {
        --squarewidth: 65px;
    }
}  

@media screen and (min-width: 350px) {
    :root {
        --squarewidth: 20vmin;
        --fontsize: 7vmin;
        --dropshadowradius: 1vmin;
        --dropshadowscale: 1vmin;
    }

    .selections {
        --winswidth: 60px;
        --winsheight: 6.5vmin;
        --lightwidth: calc(var(--winsheight) * 1.45);
        --lightheight: calc(var(--lightwidth) * .44);
    }
}

@media screen and (min-width: 750px) {
    :root {
        --squarewidth: 15vmin;
        --fontsize: 5vmin;
        --dropshadowradius: 1vmin;
        --dropshadowscale: 1vmin;
    }

    .selections {
        --winswidth: 85px;
        --winsheight: 4.5vmin;
        --lightwidth: calc(var(--winsheight) * 1.45);
        --lightheight: calc(var(--lightwidth) * .44);
    }
}

:root {
    --gridwidth: calc(var(--squarewidth) * 3 + (var(--square_margin) * 6));
    --marginbottom: calc(var(--gridwidth) * .01754386);
    --margin: 1em;
    --square_margin: calc(var(--squarewidth) * 0.0125);
    --gameinfoY: calc(calc((var(--gridwidth) / 2) + (var(--marginbottom) / 2)));
    --dropShadowMark: black;

    --red_color: #ef8080;
    --green_color: #66fb9a;
}

.light {
    --rectColor: rgba(29, 29, 29, 0.15);
    --bgColor: #ebebeb;
    --accent: #262322;
    --shadowColor: #1a1a1a;
}

.dark {
    --rectColor: rgba(0, 0, 0, 0.3);
    --bgColor: #1c1c1c;
    --accent: #ebebeb;
    --shadowColor: #ebebeb;
}

.blue {
    --rectColor: rgba(70, 70, 70, 0.09);
    --bgColor: #151822;
}